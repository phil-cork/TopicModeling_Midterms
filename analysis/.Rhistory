# import packages
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(scales)
# import pre-formatted reddit data
reddit <- read.csv("../data/reddit_output.csv")
# store as Date
reddit$date <- as.Date(reddit$date)
# separate subreddits
con <- reddit %>%
filter(subreddit=='conservative')
dem <- reddit %>%
filter(subreddit=='democrats')
# plot each submission by date and the number of comments
ggplot(reddit, aes(x=date, y=num_comments, color=subreddit)) +
geom_jitter() +
scale_color_manual(values=c('firebrick', 'lightblue')) +
labs(x="", y="Number of Comments", title="Upvote Ratio Remains Steady Leading Up to Midterms",
subtitle="Reddit Submissions, Oct, 2022") +
theme_minimal()
# plot each submission by date and the number of comments
ggplot(reddit, aes(x=date, y=num_comments, color=subreddit)) +
geom_jitter(alpha=.5) +
scale_color_manual(values=c('firebrick', 'lightblue')) +
labs(x="", y="Number of Comments", title="Upvote Ratio Remains Steady Leading Up to Midterms",
subtitle="Reddit Submissions, Oct, 2022") +
theme_minimal()
# create new dataframe based on which domain name and subreddit are included, then aggregate by new pairing
domains <- reddit %>%
group_by(domain, subreddit) %>%
summarize(links=n(), avg.upvotes = mean(ups), avg.upratio = mean(upvote_ratio), avg.comments=mean(num_comments)) %>%
filter(links>=10) %>%
filter(!domain %in% c("redd", "imgur"))
ggplot(domains, aes(y=reorder(domain, links), x=links, fill=subreddit)) +
geom_bar(stat='identity', position='dodge') +
scale_fill_manual(values=c('#D65361', '#317AAE'), name="") +
labs(x="Number of Links", y="", title="News Sources Do Not Overlap for Partisan Subreddits", subtitle="Reddit Submissions, Oct, 2021") +
theme_minimal() +
theme(panel.grid.major.y = element_blank())
# aggregate data by date to seem temporal trends
by_date <- reddit %>%
group_by(date, subreddit) %>%
summarize(avg.comments=mean(num_comments), avg.upvotes=mean(ups), total.comments=sum(num_comments), total.upvotes=sum(ups))
# plot data by date by each subreddit
ggplot(by_date, aes(x=date, y=total.comments, color=subreddit)) +
geom_line() +
theme_minimal()
